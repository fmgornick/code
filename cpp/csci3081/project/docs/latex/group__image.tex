\hypertarget{group__image}{}\section{Image Processing Subsystem}
\label{group__image}\index{Image Processing Subsystem@{Image Processing Subsystem}}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classBlobDetectorAdapater}{Blob\+Detector\+Adapater}
\begin{DoxyCompactList}\small\item\em The Blob\+Detector\+Adapter class that interfaces the \hyperlink{classFilter}{Filter} and Open\+CV. This class scans an image for the orange drone using contours and morphing. If found, the drone data is stored in the pixel in the top left corner. \end{DoxyCompactList}\item 
class \hyperlink{classCannyEdgeDetect}{Canny\+Edge\+Detect}
\begin{DoxyCompactList}\small\item\em The main class for \hyperlink{classCannyEdgeDetect}{Canny\+Edge\+Detect}, extends \hyperlink{classFilter}{Filter}. This basically just applies each of the filters required for the canny edge algorthim in order,. \end{DoxyCompactList}\item 
class \hyperlink{classColor}{Color}
\begin{DoxyCompactList}\small\item\em The main class for \hyperlink{classColor}{Color}. We used a color class to make operations for color arithmatic easier. This makes it easy to add mutliply and set colors equal to eachother. The color class also makes it easy to get access to comonly used colors like black and white. \end{DoxyCompactList}\item 
class \hyperlink{classConvolutionFilter}{Convolution\+Filter}
\begin{DoxyCompactList}\small\item\em The main class for \hyperlink{classConvolutionFilter}{Convolution\+Filter}, extends \hyperlink{classFilter}{Filter}. A basic convolution filter implementation. Each child class will have it\textquotesingle{}s own kernel object and run the given apply kernel function. This class has a lot of extendability as long as the filter algorithm is the same. \end{DoxyCompactList}\item 
class \hyperlink{classDoubleThresholdFilter}{Double\+Threshold\+Filter}
\begin{DoxyCompactList}\small\item\em Double Threshold takes in the value of the each pixel and decides if it is a strong or weak pixel based off of its luminencence. It has a strong threshold which makes if white, and a weak threshold that makes it grey. \end{DoxyCompactList}\item 
class \hyperlink{classFilter}{Filter}
\begin{DoxyCompactList}\small\item\em The main class for \hyperlink{classFilter}{Filter}. This is where all the filters are derived from. \end{DoxyCompactList}\item 
class \hyperlink{classGaussianBlurFilter}{Gaussian\+Blur\+Filter}
\begin{DoxyCompactList}\small\item\em The main class for \hyperlink{classGaussianBlurFilter}{Gaussian\+Blur\+Filter}, extends \hyperlink{classConvolutionFilter}{Convolution\+Filter}. Creates a 5 x 5 kernel to apply to each pixel and \hyperlink{classConvolutionFilter}{Convolution\+Filter} is used to iterate through the image to apply it. Gaussian Blur is different from Mean Blur in that the representation of each pixel isn\textquotesingle{}t equally distributed like Mean Blur. \end{DoxyCompactList}\item 
class \hyperlink{classGreyScaleFilter}{Grey\+Scale\+Filter}
\begin{DoxyCompactList}\small\item\em The main class for \hyperlink{classGreyScaleFilter}{Grey\+Scale\+Filter}, extends \hyperlink{classSimpleFilter}{Simple\+Filter}. Overrides the virtual \hyperlink{classGreyScaleFilter_ac781a1ddd205f2d67d1c08481d5ab2e4}{Apply\+At\+Pixel()} function defined in \hyperlink{classSimpleFilter}{Simple\+Filter}. Just calculates the luminance value of each pixel and sets the pixels rgb values to the luminance. \end{DoxyCompactList}\item 
class \hyperlink{classHysteresisFilter}{Hysteresis\+Filter}
\begin{DoxyCompactList}\small\item\em The main class for \hyperlink{classHysteresisFilter}{Hysteresis\+Filter}, extends \hyperlink{classFilter}{Filter}. The hysteresis filter takes the output from the double-\/threshold filter and iterates through, changing all \textquotesingle{}weak\textquotesingle{} pixels into \textquotesingle{}strong\textquotesingle{} pixels if any of the surrounding pixels are \textquotesingle{}strong.\textquotesingle{} If not the pixel is set to black. \end{DoxyCompactList}\item 
class \hyperlink{classImage}{Image}
\begin{DoxyCompactList}\small\item\em The main class for \hyperlink{classImage}{Image}. \hyperlink{classImage}{Image} is represented as a big unsigned character array, and alters values inside the image by using the color class. Class just contains getters, setters, and the big 3. \end{DoxyCompactList}\item 
class \hyperlink{classInvertFilter}{Invert\+Filter}
\begin{DoxyCompactList}\small\item\em The main class for \hyperlink{classInvertFilter}{Invert\+Filter}, extends \hyperlink{classSimpleFilter}{Simple\+Filter}. A filter that flips the values of each pixel. e.\+g. if a pixel was white after calling \hyperlink{classInvertFilter}{Invert\+Filter} it would be black. \end{DoxyCompactList}\item 
class \hyperlink{classMeanBlurFilter}{Mean\+Blur\+Filter}
\begin{DoxyCompactList}\small\item\em The main class for \hyperlink{classMeanBlurFilter}{Mean\+Blur\+Filter}, extends \hyperlink{classConvolutionFilter}{Convolution\+Filter}. Creates a 3 x 3 kernel with all 1\textquotesingle{}s meaning that each pixel and the surrounding 8 get the same representation for the value of the current pixel. Kernel is applied in \hyperlink{classConvolutionFilter}{Convolution\+Filter} \hyperlink{classMeanBlurFilter_abb7824005c70b04aca6a24760f85cbc1}{Apply()} method. \end{DoxyCompactList}\item 
class \hyperlink{classNonMaxFilter}{Non\+Max\+Filter}
\begin{DoxyCompactList}\small\item\em The main class for \hyperlink{classNonMaxFilter}{Non\+Max\+Filter}, extends \hyperlink{classFilter}{Filter}. Non\+Max takes in two images, an intensity image and a direction image. This filter scans the image and if intensity of the nearest pixel in the given direction is larger than the current pixel, it will set the current pixel to black. The end result is an image that has thinner lines. \end{DoxyCompactList}\item 
class \hyperlink{classPurpleScaleFilter}{Purple\+Scale\+Filter}
\begin{DoxyCompactList}\small\item\em The main class for \hyperlink{classPurpleScaleFilter}{Purple\+Scale\+Filter}, extends \hyperlink{classSimpleFilter}{Simple\+Filter}. This filter will take an image and \char`\"{}purple scale\char`\"{} it. This means purple will be the only color present in the image and different tones of purple will allow the image to be still be recognizable. \end{DoxyCompactList}\item 
class \hyperlink{classSharpeningFilter}{Sharpening\+Filter}
\begin{DoxyCompactList}\small\item\em This is a convolution filter that uses a kernal found on Wikipedia that sharpens the image. Wikipeidea article\+: \href{https://en.wikipedia.org/wiki/Kernel_(image_processing)}{\tt https\+://en.\+wikipedia.\+org/wiki/\+Kernel\+\_\+(image\+\_\+processing)} \end{DoxyCompactList}\item 
class \hyperlink{classSimpleFilter}{Simple\+Filter}
\begin{DoxyCompactList}\small\item\em The main class for \hyperlink{classSimpleFilter}{Simple\+Filter}, extends \hyperlink{classFilter}{Filter}. This filter does the brunt of the work when iterating through an image. It\textquotesingle{}s an abstract class, so it\textquotesingle{}s initialized as one of it\textquotesingle{}s derived classes, so when it iterates through the image, it calls the \hyperlink{classSimpleFilter_ad47d7f994aa0f80f9013d689b82a0b92}{Apply\+At\+Pixel()} function that\textquotesingle{}s defined in each of it\textquotesingle{}s derived classes. \end{DoxyCompactList}\item 
class \hyperlink{classSobelFilter}{Sobel\+Filter}
\begin{DoxyCompactList}\small\item\em The main class for \hyperlink{classSobelFilter}{Sobel\+Filter}, extends \hyperlink{classFilter}{Filter}. For this filter, instead of outputing two separate images and pushing them onto the \hyperlink{classImage}{Image} $\ast$ vector, we instead chose to double the size of the image and put the image intensity on top and image gradient on bottom. Both image outputs are found by first applying 2 kernels for x and y intensity. The intensity gradient is found by taking the hypotenuse of of each pixel, and the direction gradient is found by taking the arctangent. More information can be found here\+: \href{https://towardsdatascience.com/canny-edge-detection-step-by-step-in-python-computer-vision-b49c3a2d8123}{\tt https\+://towardsdatascience.\+com/canny-\/edge-\/detection-\/step-\/by-\/step-\/in-\/python-\/computer-\/vision-\/b49c3a2d8123}. \end{DoxyCompactList}\item 
class \hyperlink{classSolarizationFilter}{Solarization\+Filter}
\begin{DoxyCompactList}\small\item\em The main class for \hyperlink{classSolarizationFilter}{Solarization\+Filter}, extends \hyperlink{classSimpleFilter}{Simple\+Filter}. Solarization filter basically runs the rgb values through a modified sin function to create a pseudo-\/inversion filter. \end{DoxyCompactList}\item 
class \hyperlink{classThresholdFilter}{Threshold\+Filter}
\begin{DoxyCompactList}\small\item\em The main class for \hyperlink{classThresholdFilter}{Threshold\+Filter}, extends \hyperlink{classSimpleFilter}{Simple\+Filter}. Threshold scans the image and if the luminance of the image is above the input threshold it changes the pixel to white, otherwise the pixel turns black. This means the output image only has the colors black and white. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
This is the overview of the image processing library. This image processing library enables our drone to take pictures and analyze them. The core class of the image processing library is the \hyperlink{classImage}{Image} class. This class contains a pointer of data that represents a 4-\/channel image, the ordering of the data is in the R\+G\+BA format. From this image class, the \hyperlink{classFilter}{Filter} class is used to apply transformations to the image, and these can be used for practical purposes. The image library is also integrated with Open\+CV to enable more complex behavior in some filters.

An important idea of the image processing library is the \hyperlink{classFilter}{Filter} class. This is an abstract class that has one Apply function. This “\+Apply” function will tak all the Images in its input and run a filter algorithm on them and put the outputs in its output vector. Filters can be broken up into 2 main categories, there are Simple\+Filters and Convolution\+Filters, there are also miscellaneous filters that do not fit into either category.

The \hyperlink{classSimpleFilter}{Simple\+Filter}, takes an image and applies some transformation on 1 pixel at a time and this transformation is the same for every pixel. A \hyperlink{classConvolutionFilter}{Convolution\+Filter} applies a kernel to every pixel of the image. This kernel tells the filter what to do with the neighboring pixels to create a transformation. These two filter types allow the image processor to have a simple \hyperlink{classCannyEdgeDetect}{Canny\+Edge\+Detect} filter. This filter runs a series of simple and convolution filters on the image to identify any edges with white pixels. The \hyperlink{classCannyEdgeDetect}{Canny\+Edge\+Detect} filter is one of the image processors most powerful functions. Looking at the U\+ML diagram for the \hyperlink{classFilter}{Filter} class will show how all functionality from this library derives from that class.

Another really powerful use for the image processor, is the Open\+CV integration. The Blob\+Detector\+Adapter class is a very powerful filter that uses Open\+CV. It uses Open\+CV contours and a morphology algorithm to locate the orange robot in the simulation. This functionality would be very complex to implement with the \hyperlink{classFilter}{Filter} and \hyperlink{classImage}{Image} class on its own so Open\+CV was used to save time and energy. Open\+CV is not used outside of this class, and any class that does Open\+CV should stick with the \hyperlink{classFilter}{Filter} class format and use the adapter design pattern to implement functionality.

From the U\+ML diagram, it is seen that the \hyperlink{classFilter}{Filter} class and \hyperlink{classImage}{Image} class do not interact outside of the Apply function. This is important. An image should not have any reference to any filters, and filters should not have any images as member variables.\hypertarget{image_processing_description_image_processing_contribute}{}\subsection{How to Contribute}\label{image_processing_description_image_processing_contribute}
If a developer wishes to add to our image processing library the process is easy to catch onto. The only extensions that the image processing library accepts is the creation of new filters. First the developer must decide what filter they would like to implement. From there it must be decided if this filter is a \hyperlink{classSimpleFilter}{Simple\+Filter} or \hyperlink{classConvolutionFilter}{Convolution\+Filter}. The new filter then must extend one of those two classes to use their apply function. However, sometimes a filter is more complex and can simply extend \hyperlink{classFilter}{Filter} if it gains no benefit from extending any other filter class. The process is then just implanting the Apply function to work on the vector of inputs and adding to the vector of outputs. 